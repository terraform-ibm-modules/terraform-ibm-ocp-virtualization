{
  "products": [
    {
      "name": "deploy-arch-ibm-ocp-virtualization",
      "label": "Cloud automation for Red Hat OpenShift Virtualization",
      "product_kind": "solution",
      "tags": [
        "ibm_created",
        "target_terraform",
        "terraform",
        "solution",
        "containers",
        "target_roks",
        "platform_engineering"
      ],
      "keywords": [
        "openshift",
        "openshift-virtualization",
        "ocp-virtualization",
        "virtualization",
        "cluster",
        "IaC",
        "infrastructure as code",
        "terraform",
        "solution"
      ],
      "short_description": "Deploy Red Hat OpenShift clusters on Virtual Private Cloud (VPC) pre-configured with OpenShift Virtualization capabilities for VM workloads",
      "long_description": "The [Red Hat OpenShift Virtualization](https://www.ibm.com/docs/en/fusion-software/2.8.x?topic=red-hat-openshift-virtualization), provides a modern platform for organizations to run and deploy their new and existing virtual machine (VM) workloads. This automation streamlines the deployment of Red Hat OpenShift cluster with OpenShift Virtualization on IBM Cloud. The OpenShift Virtualization Operator adds Kubernetes custom resources to enable virtualization.\n\nℹ️ This Terraform-based automation is part of a broader suite of IBM-maintained Infrastructure as Code (IaC) assets, each following the naming pattern \"Cloud automation for *servicename*\" and focusing on single IBM Cloud service. These single-service deployable architectures can be used on their own to streamline and automate service deployments through an [IaC approach](https://cloud.ibm.com/docs/secure-enterprise?topic=secure-enterprise-understanding-projects), or assembled together into a broader [automated IaC stack](https://cloud.ibm.com/docs/secure-enterprise?topic=secure-enterprise-config-stack) to automate the deployment of an end-to-end solution architecture.",
      "offering_docs_url": "https://github.com/terraform-ibm-modules/terraform-ibm-ocp-virtualization/blob/main/README.md",
      "offering_icon_url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-ocp-virtualization/main/images/rh_ocp.svg",
      "provider_name": "IBM",
      "features": [
        {
          "title": "Virtual Private Cloud",
          "description": "Creates and configures a Virtual Private Cloud (VPC) network on IBM Cloud for deploying the OpenShift Virtualization cluster in a secure and isolated network environment. [Learn more](https://cloud.ibm.com/docs/vpc?topic=vpc-getting-started&interface=cli#create-and-configure-vpc)."
        },
        {
          "title": "Red Hat OpenShift Cluster",
          "description": "Creates and configures a Red Hat OpenShift cluster on a Virtual Private Cloud (VPC) with bare metal worker nodes to enable the installation of the OpenShift Virtualization for deploying and managing VMs within the OpenShift cluster. [Learn more](https://cloud.ibm.com/docs/openshift?topic=openshift-cluster-create-vpc-gen2&interface=ui)."
        },
        {
          "title": "Object Storage",
          "description": "Creates and configures an Object Storage bucket which acts as OpenShift internal registry storage. [Learn More](https://cloud.ibm.com/docs/openshift?topic=openshift-storage-cos-understand)."
        },
        {
          "title": "OpenShift Virtualization",
          "description": "Automates the the deployment of the OpenShift Virtualization Operator, which is responsible for enabling virtualization features within the OpenShift cluster. [Learn more](https://www.ibm.com/docs/en/fusion-software/2.8.x?topic=red-hat-openshift-virtualization)."
        },
        {
          "title": "Sets up logging for the OpenShift cluster",
          "description": "Optionally, you can deploy [Cloud automation for Cloud Logs](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-cloud-logs-63d8ae58-fbf3-41ce-b844-0fb5b85882ab-global) to route, alert, and visualize platform logs that are generated by your OpenShift cluster."
        },
        {
          "title": "Sets up monitoring operational metrics for the OpenShift cluster",
          "description": "Optionally, you can deploy [Cloud automation for Cloud Monitoring](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-cloud-monitoring-73debdbf-894f-4c14-81c7-5ece3a70b67d-global) to measure how users and applications interact with your OpenShift cluster."
        },
        {
          "title": "Sets up activity tracking for the OpenShift cluster",
          "description": "Optionally, you can deploy [Cloud automation for Activity Tracker Event Routing](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-activity-tracker-918453c3-4f97-4583-8c4a-83ef12fc7916-global) to route and securely store auditing events that are related to your OpenShift cluster."
        },
        {
          "title": "Secrets Manager",
          "description": "Optional integration with [Cloud automation for Secrets Manager](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-secrets-manager-6d6ebc76-7bbd-42f5-8bc7-78f4fabd5944-global) for centrally managing Ingress subdomain certificates."
        },
        {
          "title": "Security and Compliance Alignment",
          "description": "Advanced configurations include features such as [audit logging](https://cloud.ibm.com/docs/containers?topic=containers-health-audit#audit-api-server) and encryption key management, and may align with [IBM Cloud Framework for Financial Services](https://cloud.ibm.com/docs/framework-financial-services?topic=framework-financial-services-about) for production use in regulated environments."
        }
      ],
      "support_details": "This product is in the community registry. As such support is handled through the originated repo. If you experience issues, please open an issue in the repository [here](https://github.com/terraform-ibm-modules/terraform-ibm-ocp-virtualization/issues). Please note this product is not supported via the IBM Cloud Support Center.",
      "flavors": [
        {
          "label": "Quickstart",
          "name": "quickstart",
          "index": 1,
          "install_type": "fullstack",
          "working_directory": "solutions/quickstart",
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "containers-kubernetes",
              "notes": "Required to create and edit OpenShift cluster and the related resources."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator",
                "crn:v1:bluemix:public:iam-identity::::serviceRole:UserApiKeyCreator"
              ],
              "service_name": "iam-identity",
              "notes": "Required to create the containers-kubernetes-key needed by the OpenShift cluster on IBM Cloud."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "is.vpc",
              "notes": "Required for creating Virtual Private Cloud(VPC)."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "cloud-object-storage",
              "notes": "Required to create Cloud Object Storage (COS) Instance."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Viewer"
              ],
              "service_name": "Resource group only",
              "notes": "Viewer access is required in the resource group you want to provision in."
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Configures QuickStart deployment of Openshift Virtualization within an IBM Cloud with limited options."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "Red Hat OpenShift cluster with OpenShift Virtualization for IBM Cloud",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-ocp-virtualization/main/reference-architectures/deployable-architecture-ocp-virtualization-quickstart.svg",
                  "type": "image/svg+xml"
                },
                "description": "This architecture enables the deployment of a <b>Red Hat OpenShift cluster</b> with bare metal worker nodes on IBM Cloud, within a Virtual Private Cloud (VPC) environment.<br><br>The VPC is configured within a specific region and organized under a designated resource group. OpenShift is deployed within the VPC and spread across a zone, hosting multiple Bare Metal Worker Nodes. These nodes offer high-performance, dedicated compute resources ideal for VM workloads.<br><br>To support internal image storage and management, a <b>Cloud Object Storage (COS)</b> instance is integrated. Within this COS instance, a Registry bucket is provisioned to serve as the internal image registry for the OpenShift cluster.<br><br>To support <b>OpenShift Virtualization</b>, the following add-ons are installed: <b>OpenShift Data Foundation (ODF)</b> and the <b>vpc-file-csi-driver</b>.<br><br><b>OpenShift Data Foundation</b> provides integrated, software-defined storage that enables persistent storage for virtual machines (VMs) and applications within OpenShift. It supports block, file, and object storage across hybrid environments, ensuring high availability, scalability, and data resilience for virtualized workloads.<br><br>The <b>vpc-file-csi-driver</b> is a Container Storage Interface (CSI) driver that allows OpenShift clusters to dynamically mount <b>IBM Cloud VPC File Storage</b> volumes. This enables scalable, high-performance file storage integration with OpenShift workloads, including virtual machines.<br><br>These add-ons form a critical part of the virtualization stack, offering persistent and resilient storage infrastructure required for deploying and managing VMs within the OpenShift cluster.<br><br>This architecture provides a robust and quick foundation for deploying and managing your Red Hat OpenShift cluster, enabling seamless Openshift Virtualization."
              }
            ]
          },
          "configuration": [
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "required": true
            },
            {
              "key": "existing_resource_group_name",
              "display_name": "resource_group",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "identifier": "rg_name"
                }
              },
              "default_value": "Default",
              "description": "The name of an existing resource group to provision the resources."
            },
            {
              "key": "region",
              "required": true,
              "custom_config": {
                "type": "vpc_region",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "generationType": "2"
                }
              }
            },
            {
              "key": "zone",
              "required": true,
              "options": [
                {
                  "displayname": "1",
                  "value": 1
                },
                {
                  "displayname": "2",
                  "value": 2
                },
                {
                  "displayname": "3",
                  "value": 3
                }
              ]
            },
            {
              "key": "openshift_version",
              "required": true,
              "options": [
                {
                  "displayname": "4.17",
                  "value": "4.17"
                },
                {
                  "displayname": "4.18",
                  "value": "4.18"
                }
              ]
            },
            {
              "key": "machine_type",
              "required": true,
              "options": [
                {
                  "displayname": "bx2.metal.96x384",
                  "value": "bx2.metal.96x384"
                },
                {
                  "displayname": "bx2d.metal.96x384",
                  "value": "bx2d.metal.96x384"
                },
                {
                  "displayname": "cx2.metal.96x192",
                  "value": "cx2.metal.96x192"
                },
                {
                  "displayname": "cx2d.metal.96x192",
                  "value": "cx2d.metal.96x192"
                },
                {
                  "displayname": "mx2.metal.96x768",
                  "value": "mx2.metal.96x768"
                },
                {
                  "displayname": "mx2d.metal.96x768",
                  "value": "mx2d.metal.96x768"
                }
              ]
            },
            {
              "key": "workers_per_zone"
            },
            {
              "key": "operating_system",
              "options": [
                {
                  "displayname": "Red Hat CoreOS",
                  "value": "RHCOS"
                }
              ]
            },
            {
              "key": "cluster_resource_tags",
              "custom_config": {
                "type": "array",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "access_tags",
              "custom_config": {
                "type": "array",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "openshift_entitlement"
            },
            {
              "key": "cluster_ready_when",
              "options": [
                {
                  "displayname": "Normal",
                  "value": "Normal"
                },
                {
                  "displayname": "IngressReady",
                  "value": "IngressReady"
                },
                {
                  "displayname": "OneWorkerNodeReady",
                  "value": "OneWorkerNodeReady"
                },
                {
                  "displayname": "MasterNodeReady",
                  "value": "MasterNodeReady"
                }
              ]
            },
            {
              "key": "addons"
            },
            {
              "key": "address_prefix"
            },
            {
              "key": "cluster_name"
            },
            {
              "key": "vpc_resource_tags"
            },
            {
              "key": "vpc_file_default_storage_class"
            },
            {
              "key": "infra_node_selectors"
            },
            {
              "key": "workloads_node_selectors"
            },
            {
              "key": "cluster_config_endpoint_type",
              "options": [
                {
                  "displayname": "Default",
                  "value": "default"
                },
                {
                  "displayname": "Private",
                  "value": "private"
                },
                {
                  "displayname": "VPE",
                  "value": "vpe"
                },
                {
                  "displayname": "Link",
                  "value": "link"
                }
              ]
            },
            {
              "key": "wait_till",
              "options": [
                {
                  "displayname": "Master Node Ready",
                  "value": "MasterNodeReady"
                },
                {
                  "displayname": "One Worker Node Ready",
                  "value": "OneWorkerNodeReady"
                },
                {
                  "displayname": "Ingress Ready",
                  "value": "IngressReady"
                },
                {
                  "displayname": "Normal",
                  "value": "Normal"
                }
              ]
            },
            {
              "key": "wait_till_timeout"
            }
          ],
          "dependency_version_2": true,
          "terraform_version": "1.10.5"
        },
        {
          "label": "Fully configurable",
          "name": "fully-configurable",
          "index": 2,
          "install_type": "fullstack",
          "working_directory": "solutions/fully-configurable",
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "All Account Management services",
              "notes": "[Optional] Required to create new resource groups when enabling the Account Configuration integration."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "All Identity and Access enabled services",
              "notes": "[Optional] Required to create new resource groups with account settings when enabling the Account Configuration integration."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "iam-groups",
              "notes": "[Optional] Required for managing IAM access groups."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator",
                "crn:v1:bluemix:public:iam-identity::::serviceRole:UserApiKeyCreator"
              ],
              "service_name": "iam-identity",
              "notes": "Required to create the containers-kubernetes-key needed by the OpenShift cluster on IBM Cloud."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "hs-crypto",
              "notes": "[Optional] Required if KMS encryption is enabled and Hyper Protect Crypto Service is used for encryption."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "kms",
              "notes": "[Optional] Required if KMS encryption is enabled and Key Protect Service is used for encryption."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "cloud-object-storage",
              "notes": "[Optional] Required if Cloud Object Storage is selected to store data from the OpenShift AI add-on, Cloud logs, or Activity Tracker events."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "containers-kubernetes",
              "notes": "Required to create and edit the OpenShift cluster and the related resources."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "is.vpc",
              "notes": "[Optional] Required for creating Virtual Private Cloud(VPC)."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Editor",
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "secrets-manager",
              "notes": "[Optional] Required when enabling the Secrets Manager integration."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "sysdig-monitor",
              "notes": "[Optional] Required to create an instance of Cloud Monitoring."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "logs",
              "notes": "[Optional] Required to create an instance of Cloud Logs."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "atracker",
              "notes": "[Optional] Required when enabling the Activity Tracker Event Routing."
            },
            {
              "service_name": "logs-router",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "notes": "[Optional] Required to create an instance of Logs Routing."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "sysdig-secure",
              "notes": "[Optional] Required for creating and managing SCC Workload Protection instance."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator",
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "apprapp",
              "notes": "[Optional] Required for provisioning the App Configuration instance."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "event-notifications",
              "notes": "[Optional] Required when enabling the Event Notifications integration."
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Configured to use IBM secure-by-default standards, but can be edited to fit your use case."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "Red Hat OpenShift cluster with OpenShift Virtualization for IBM Cloud.",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-ocp-ai/main/reference-architectures/deployable-architecture-ocp-virtualization-fully-configurable.svg",
                  "type": "image/svg+xml"
                },
                "description": "This deployable architecture illustrates the deployment of a Red Hat OpenShift cluster on IBM Cloud with bare-metal worker nodes, showcasing the key components and their interactions for openshift virtualization support.<br><br>You can create a fully-configured <b>VPC</b> by selecting the [Cloud automation for VPC](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-vpc-2af61763-f8ef-4527-a815-b92166f29bc8-global) dependency or you can use an existing VPC. The VPC can be provisioned either in a single-zone or multi-zone configuration, depending on your availability requirements. By default, the VPC add-on provisions a single-zone VPC, forming the foundation for your OpenShift cluster. <br><br>To utilize the capabilities of <b>Openshift Virtualization</b>, you must configure <b>at least one bare-metal worker pool</b> within your cluster. The architecture supports a flexible compute environment, allowing you to deploy a mix of <b>bare-metal</b> and <b>vpc</b> nodes across different worker pools. This solution offers single worker pool that are spread across a single zone, along with the following add-ons installed: <b>OpenShift Data Foundation (ODF)</b> and the <b>vpc-file-csi-driver</b>.<br><br>A <b>Cloud Object Storage (COS)</b> instance is required for the OpenShift cluster. Within this instance, an Object Storage bucket is created, which serves as the internal registry storage for the OpenShift cluster. The [Cloud automation for Object Storage](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-cos-68921490-2778-4930-ac6d-bae7be6cd958-global) deployable architecture can be used to create a COS instance. Additionally, the storage bucket can be encrypted using <b>Key Management Services(KMS)</b> to enhance security.<br><br>For logging and monitoring needs, you can enable <b>Observability</b> for your cluster. [Cloud automation for Observability](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-observability-a3137d28-79e0-479d-8a24-758ebd5a0eab-global) provides advanced monitoring, logging, and operational insights into the performance and health of your deployment.<br><br><b>Secrets Manager</b> Integration can also be enabled by using [Cloud automation for Secrets Manager](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-secrets-manager-6d6ebc76-7bbd-42f5-8bc7-78f4fabd5944-global) for centrally managing Ingress subdomain certificates, ensuring the secure management of sensitive credentials.<br><br>This architecture provides a robust and quick foundation for deploying and managing your Red Hat OpenShift cluster, enabling seamless Openshift Virtualization."
              }
            ]
          },
          "configuration": [
            {
              "key": "ibmcloud_api_key",
              "required": true
            },
            {
              "key": "prefix",
              "type": "string",
              "default_value": "__NOT_SET__",
              "description": "The prefix to be added to all resources created by this solution. To skip using a prefix, set this value to null or an empty string. The prefix must begin with a lowercase letter and may contain only lowercase letters, digits, and hyphens '-'. It should not exceed 16 characters, must not end with a hyphen('-'), and can not contain consecutive hyphens ('--'). Example: prod-0405-ocp. [Learn more](https://terraform-ibm-modules.github.io/documentation/#/prefix.md).",
              "display_name": "prefix",
              "required": true,
              "virtual": true
            },
            {
              "key": "cluster_name",
              "type": "string",
              "default_value": "openshift",
              "description": "The name of the new IBM Cloud OpenShift Cluster. If a `prefix` input variable is specified, it is added to this name in the `<prefix>-value` format.",
              "display_name": "cluster_name",
              "required": true,
              "virtual": true
            },
            {
              "key": "subnets",
              "type": "object",
              "default_value": "{\n  zone-1 = [],\n  zone-2 = [\n      {\n        name           = \"subnet-a\"\n        cidr           = \"10.10.10.0/24\"\n        public_gateway = true\n        acl_name       = \"vpc-acl\"\n        no_addr_prefix = false\n      }\n    ]\n  }",
              "description": "List of subnets for the vpc. For each item in each array, a subnet will be created. Items can be either CIDR blocks or total ipv4 addresses. Public gateways will be enabled only in zones where a gateway has been created. [Learn more](https://github.com/terraform-ibm-modules/terraform-ibm-landing-zone-vpc/blob/main/solutions/fully-configurable/DA-types.md#subnets-).",
              "display_name": "subnets",
              "required": false,
              "virtual": true
            },
            {
              "key": "region",
              "required": true,
              "type": "string",
              "custom_config": {
                "config_constraints": {
                  "generationType": "2"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "vpc_region"
              },
              "description": "Region in which all the resources will be deployed. [Learn More](https://terraform-ibm-modules.github.io/documentation/#/region).",
              "virtual": true,
              "default_value": "us-south"
            },
            {
              "key": "cluster_id",
              "custom_config": {
                "type": "cluster_var",
                "grouping": "deployment",
                "original_grouping": "deployment"
              },
              "required": true
            },
            {
              "key": "cluster_resource_group_id",
              "required": true,
              "display_name": "cluster_resource_group",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "identifier": "rg_id"
                }
              }
            },
            {
              "key": "openshift_version",
              "required": true,
              "virtual": true,
              "type": "string",
              "default_value": "4.18",
              "description": "Version of the OpenShift cluster to provision.",
              "options": [
                {
                  "displayname": "4.17",
                  "value": "4.17"
                },
                {
                  "displayname": "4.18",
                  "value": "4.18"
                }
              ]
            },
            {
              "key": "default_worker_pool_machine_type",
              "required": true,
              "type": "string",
              "default_value": "cx2d.metal.96x192",
              "description": "Specifies the machine type for the default worker pool. This determines the CPU, memory, and disk resources available to each worker node. For OpenShift Virtualization installation, machines should be VPC bare metal servers. Refer [IBM Cloud documentation for available machine types](https://cloud.ibm.com/docs/vpc?topic=vpc-bare-metal-servers-profile&interface=ui#bare-metal-profile-availability-by-region).",
              "virtual": true,
              "options": [
                {
                  "displayname": "bx2.metal.96x384",
                  "value": "bx2.metal.96x384"
                },
                {
                  "displayname": "bx2d.metal.96x384",
                  "value": "bx2d.metal.96x384"
                },
                {
                  "displayname": "cx2.metal.96x192",
                  "value": "cx2.metal.96x192"
                },
                {
                  "displayname": "cx2d.metal.96x192",
                  "value": "cx2d.metal.96x192"
                },
                {
                  "displayname": "mx2.metal.96x768",
                  "value": "mx2.metal.96x768"
                },
                {
                  "displayname": "mx2d.metal.96x768",
                  "value": "mx2d.metal.96x768"
                }
              ]
            },
            {
              "key": "default_worker_pool_workers_per_zone",
              "virtual": true,
              "type": "number",
              "default_value": 2,
              "description": "Defines the number of worker nodes to provision in each zone for the default worker pool. Overall cluster must have at least 2 worker nodes."
            },
            {
              "key": "default_worker_pool_operating_system",
              "required": true,
              "virtual": true,
              "type": "string",
              "default_value": "RHCOS",
              "description": "Provide the operating system for the worker nodes in the default worker pool. OpenShift Virtualization installation is supported only on RHCOS operating system. Refer [here](https://cloud.ibm.com/docs/openshift?topic=openshift-openshift_versions) for supported Operating Systems.",
              "options": [
                {
                  "displayname": "Red Hat CoreOS",
                  "value": "RHCOS"
                }
              ]
            },
            {
              "key": "addons",
              "type": "object",
              "default_value": {
                "openshift-data-foundation": {
                  "parameters_json": "{\"osdStorageClassName\":\"localblock\",\"odfDeploy\":\"true\",\"autoDiscoverDevices\":\"true\"}"
                },
                "vpc-file-csi-driver": {
                  "version": "2.0"
                }
              },
              "description": "Map of OpenShift cluster add-on versions to install (NOTE: The 'vpc-block-csi-driver' add-on is installed by default for VPC clusters and 'ibm-storage-operator' is installed by default in OCP 4.15 and later, however you can explicitly specify it here if you wish to choose a later version than the default one). For full list of all supported add-ons and versions, see https://cloud.ibm.com/docs/containers?topic=containers-supported-cluster-addon-versions. [Learn more](https://github.com/terraform-ibm-modules/terraform-ibm-ocp-virtualization/blob/main/solutions/fully-configurable/DA_docs.md#options-with-addons)",
              "display_name": "addons",
              "required": false,
              "virtual": true
            },
            {
              "key": "additional_worker_pools",
              "type": "array",
              "default_value": "[]",
              "description": "List of additional worker pools. [Learn more](https://github.com/terraform-ibm-modules/terraform-ibm-ocp-virtualization/blob/main/solutions/fully-configurable/DA_docs.md#options-with-worker-pools)",
              "display_name": "additional_worker_pools",
              "required": false,
              "custom_config": {
                "type": "textarea",
                "grouping": "deployment",
                "original_grouping": "deployment"
              },
              "virtual": true
            },
            {
              "key": "vpc_file_default_storage_class"
            },
            {
              "key": "infra_node_selectors",
              "custom_config": {
                "type": "code_editor",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "workloads_node_selectors",
              "custom_config": {
                "type": "code_editor",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "cluster_config_endpoint_type",
              "options": [
                {
                  "displayname": "Default",
                  "value": "default"
                },
                {
                  "displayname": "Private",
                  "value": "private"
                },
                {
                  "displayname": "VPE",
                  "value": "vpe"
                },
                {
                  "displayname": "Link",
                  "value": "link"
                }
              ]
            },
            {
              "key": "wait_till",
              "options": [
                {
                  "displayname": "Master Node Ready",
                  "value": "MasterNodeReady"
                },
                {
                  "displayname": "One Worker Node Ready",
                  "value": "OneWorkerNodeReady"
                },
                {
                  "displayname": "Ingress Ready",
                  "value": "IngressReady"
                },
                {
                  "displayname": "Normal",
                  "value": "Normal"
                }
              ]
            },
            {
              "key": "wait_till_timeout"
            },
            {
              "key": "enable_platform_metrics",
              "type": "boolean",
              "default_value": false,
              "description": "When set to `true`, the IBM Cloud Monitoring instance will be configured to collect platform metrics from the provided region. ⚠️ You can configure 1 instance only of the IBM Cloud Monitoring service per region to collect platform metrics in that location. Check with the account or service administrator if another monitoring instance has already been configured. You may not have permissions to see all monitoring instances in the region. [Learn more](https://cloud.ibm.com/docs/monitoring?topic=monitoring-platform_metrics_enabling).",
              "required": true,
              "virtual": true,
              "options": [
                {
                  "displayname": "true",
                  "value": "true"
                },
                {
                  "displayname": "false",
                  "value": "false"
                }
              ]
            },
            {
              "key": "logs_routing_tenant_regions",
              "type": "array",
              "default_value": [],
              "description": "To manage platform logs that are generated by IBM Cloud services in a region of IBM Cloud, you must create a tenant in each region that you operate. Pass a list of regions to create a tenant in. For example: [\"us-south\", \"us-east\"]. [Learn more](https://cloud.ibm.com/docs/logs-router?topic=logs-router-about-platform-logs).",
              "required": true,
              "virtual": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "network_acls",
              "type": "list(object)",
              "default_value": "[\n  { name                         = \"vpc-acl\"\n    add_ibm_cloud_internal_rules = true\n    add_vpc_connectivity_rules   = true\n    prepend_ibm_rules            = true\n    rules = [\n      {\n        name      = \"allow-all-443-inbound\"\n        action    = \"allow\"\n        direction = \"inbound\"\n        tcp = {\n          source_port_min = 443\n          source_port_max = 443\n        }\n        destination = \"0.0.0.0/0\"\n        source      = \"0.0.0.0/0\"\n      },\n      {\n        name      = \"allow-all-80-inbound\"\n        action    = \"allow\"\n        direction = \"inbound\"\n        tcp = {\n          source_port_min = 80\n          source_port_max = 80\n        }\n        destination = \"0.0.0.0/0\"\n        source      = \"0.0.0.0/0\"\n      },\n      {\n        name      = \"allow-all-ingress-inbound\"\n        action    = \"allow\"\n        direction = \"inbound\"\n        tcp = {\n          source_port_min = 30000\n          source_port_max = 32767\n        }\n        destination = \"0.0.0.0/0\"\n        source      = \"0.0.0.0/0\"\n      },\n      {\n        name      = \"allow-all-443-outbound\"\n        action    = \"allow\"\n        direction = \"outbound\"\n        tcp = {\n          port_max = 443\n          port_min = 443\n        }\n        destination = \"0.0.0.0/0\"\n        source      = \"0.0.0.0/0\"\n      },\n      {\n        name      = \"allow-all-80-outbound\"\n        action    = \"allow\"\n        direction = \"outbound\"\n        tcp = {\n          port_min = 80\n          port_max = 80\n        }\n        destination = \"0.0.0.0/0\"\n        source      = \"0.0.0.0/0\"\n      },\n      {\n        name      = \"allow-all-ingress-outbound\"\n        action    = \"allow\"\n        direction = \"outbound\"\n        tcp = {\n          port_min = 30000\n          port_max = 32767\n        }\n        destination = \"0.0.0.0/0\"\n        source      = \"0.0.0.0/0\"\n      }\n    ]\n  }\n]",
              "description": "The list of ACLs to create. Provide at least one rule for each ACL. [Learn more](https://github.com/terraform-ibm-modules/terraform-ibm-landing-zone-vpc/blob/main/solutions/fully-configurable/DA-types.md#network-acls-).",
              "required": false,
              "virtual": true,
              "custom_config": {
                "type": "code_editor",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "secrets_manager_service_plan",
              "required": true,
              "virtual": true,
              "type": "string",
              "options": [
                {
                  "displayname": "Standard",
                  "value": "standard"
                },
                {
                  "displayname": "Trial",
                  "value": "trial"
                }
              ],
              "default_value": "standard",
              "description": "The pricing plan to use when provisioning a Secrets Manager instance. Possible values: `standard`, `trial`. You can create only one Trial instance of Secrets Manager per account. Before you can create a new Trial instance, you must delete the existing Trial instance and its reclamation. [Learn more](https://cloud.ibm.com/docs/secrets-manager?topic=secrets-manager-create-instance&interface=ui#upgrade-instance-standard)."
            }
          ],
          "dependencies": [
            {
              "name": "deploy-arch-ibm-slz-ocp",
              "catalog_id": "1082e7d2-5e2f-0a11-a3bc-f88a8e1931fc",
              "flavors": [
                "fully-configurable"
              ],
              "id": "95fccffc-ae3b-42df-b6d9-80be5914d852-global",
              "optional": true,
              "on_by_default": true,
              "input_mapping": [
                {
                  "dependency_output": "cluster_id",
                  "version_input": "cluster_id"
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                },
                {
                  "dependency_output": "resource_group_id",
                  "version_input": "cluster_resource_group_id"
                },
                {
                  "dependency_input": "default_worker_pool_machine_type",
                  "version_input": "default_worker_pool_machine_type",
                  "reference_version": true
                },
                {
                  "dependency_input": "default_worker_pool_workers_per_zone",
                  "version_input": "default_worker_pool_workers_per_zone",
                  "reference_version": true
                },
                {
                  "dependency_input": "default_worker_pool_operating_system",
                  "version_input": "default_worker_pool_operating_system",
                  "reference_version": true
                },
                {
                  "dependency_input": "openshift_version",
                  "version_input": "openshift_version",
                  "reference_version": true
                },
                {
                  "dependency_input": "addons",
                  "version_input": "addons",
                  "reference_version": true
                },
                {
                  "dependency_input": "additional_worker_pools",
                  "version_input": "additional_worker_pools",
                  "reference_version": true
                },
                {
                  "dependency_input": "cluster_name",
                  "version_input": "cluster_name",
                  "reference_version": true
                },
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "subnets",
                  "version_input": "subnets",
                  "reference_version": true
                },
                {
                  "dependency_input": "allow_outbound_traffic",
                  "value": true
                },
                {
                  "dependency_input": "allow_public_access_to_cluster",
                  "value": true
                },
                {
                  "dependency_input": "logs_routing_tenant_regions",
                  "version_input": "logs_routing_tenant_regions",
                  "reference_version": true
                },
                {
                  "dependency_input": "enable_platform_metrics",
                  "version_input": "enable_platform_metrics",
                  "reference_version": true
                },
                {
                  "dependency_input": "network_acls",
                  "version_input": "network_acls",
                  "reference_version": true
                },
                {
                  "dependency_input": "secrets_manager_service_plan",
                  "version_input": "secrets_manager_service_plan",
                  "reference_version": true
                }
              ],
              "version": "v3.58.2"
            }
          ],
          "dependency_version_2": true,
          "terraform_version": "1.10.5"
        }
      ]
    }
  ]
}
