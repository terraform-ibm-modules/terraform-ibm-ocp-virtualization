{
    "products": [
        {
            "name": "deploy-arch-ibm-ocp-virtualization",
            "label": "[Add-ons Beta] Cloud automation for Red Hat OpenShift Virtualization",
            "product_kind": "solution",
            "tags": [
                "containers",
                "target_terraform",
                "target_roks",
                "terraform",
                "solution",
                "ibm_created",
                "ibm_beta"
            ],
            "keywords": [
                "openshift",
                "openshift-virtualization",
                "ocp-virtualization",
                "virtualization",
                "cluster",
                "IaC",
                "infrastructure as code",
                "terraform",
                "solution"
            ],
            "short_description": "Rapidly deploy Red Hat OpenShift clusters on Virtual Private Cloud (VPC) pre-configured with OpenShift Virtualization capabilities for VM workloads.",
            "long_description": "This automation streamlines the deployment of Red Hat OpenShift cluster with OpenShift Virtualization on IBM Cloud. The OpenShift Virtualization Operator adds Kubernetes custom resources to enable virtualization. This is an experimental tile and not suitable for production workloads. Stay here if you want to try an experimental version with the [Optional and swappable components](https://cloud.ibm.com/docs/secure-enterprise?topic=secure-enterprise-choose-plan-process#optional-swappable) capability.",
            "offering_docs_url": "https://github.com/terraform-ibm-modules/terraform-ibm-ocp-virtualization/blob/main/README.md",
            "offering_icon_url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-ocp-virtualization/main/images/rh_ocp.svg",
            "provider_name": "IBM",
            "features": [
                {
                    "title": "OpenShift Virtualization Deployment",
                    "description": "Automates the provisioning of a fully configured Red Hat OpenShift Cluster on VPC with OpenShift Virtualization capabilities on IBM Cloud. The OpenShift Virtualization Operator adds Kubernetes custom resources to enable virtualization. Refer the documentation to better understand the service and its capabilities: https://cloud.ibm.com/docs/openshift?topic=openshift-ai-addon-about"
                }
            ],
            "support_details": "This product is in the community registry, as such support is handled through the originated repo. If you experience issues please open an issue in that repository [https://github.com/terraform-ibm-modules/terraform-ibm-ocp-virtualization/issues](https://github.com/terraform-ibm-modules/terraform-ibm-ocp-virtualization/issues). Please note this product is not supported via the IBM Cloud Support Center.",
            "flavors": [
                {
                    "label": "QuickStart",
                    "name": "quickstart",
                    "install_type": "fullstack",
                    "working_directory": "solutions/quickstart",
                    "iam_permissions": [
                        {
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::role:Administrator"
                            ],
                            "service_name": "iam-identity"
                        },
                        {
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                                "crn:v1:bluemix:public:iam::::role:Editor"
                            ],
                            "service_name": "hs-crypto"
                        },
                        {
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                                "crn:v1:bluemix:public:iam::::role:Editor"
                            ],
                            "service_name": "kms"
                        },
                        {
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                                "crn:v1:bluemix:public:iam::::role:Editor"
                            ],
                            "service_name": "cloud-object-storage"
                        },
                        {
                            "service_name": "containers-kubernetes",
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                                "crn:v1:bluemix:public:iam::::role:Editor"
                            ]
                        }
                    ],
                    "architecture": {
                        "features": [
                            {
                                "title": "Create Resource Group",
                                "description": "No"
                            },
                            {
                                "title": "Use Existing Resource Group",
                                "description": "Yes"
                            },
                            {
                                "title": "Create Red Hat OpenShift Cluster",
                                "description": "Yes"
                            },
                            {
                                "title": "Use Existing Red Hat OpenShift Cluster",
                                "description": "No"
                            },
                            {
                                "title": "Enable OpenShift Virtualization on Cluster",
                                "description": "Yes"
                            }
                        ],
                        "diagrams": [
                            {
                                "diagram": {
                                    "caption": "Red Hat OpenShift cluster with OpenShift Virtualization for IBM Cloud.",
                                    "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-ocp-ai/main/reference-architecture/deployable-architecture-ocp-virtualization-cluster.svg",
                                    "type": "image/svg+xml"
                                },
                                "description": "This architecture illustrates the deployment of Red Hat OpenShift cluster integrated with an Openshift Virtualization, showcasing the key components and their interactions for VM workload support."
                            }
                        ]
                    },
                    "configuration": [
                        {
                            "key": "ibmcloud_api_key"
                        },
                        {
                            "key": "prefix",
                            "required": true
                        },
                        {
                            "key": "existing_resource_group_name",
                            "required": true,
                            "custom_config": {
                                "type": "resource_group",
                                "grouping": "deployment",
                                "original_grouping": "deployment",
                                "config_constraints": {
                                    "identifier": "rg_name"
                                }
                            }
                        },
                        {
                            "key": "ocp_version",
                            "required": true,
                            "options": [
                                {
                                    "displayname": "4.17",
                                    "value": "4.17"
                                }
                            ]
                        },
                        {
                            "key": "machine_type",
                            "required": true
                        },
                        {
                            "key": "workers_per_zone",
                            "required": true
                        },
                        {
                            "key": "operating_system",
                            "required": true,
                            "options": [
                                {
                                    "displayname": "Red Hat CoreOS",
                                    "value": "RHCOS"
                                }
                            ]
                        },
                        {
                            "key": "cluster_resource_tags",
                            "custom_config": {
                                "type": "array",
                                "grouping": "deployment",
                                "original_grouping": "deployment",
                                "config_constraints": {
                                    "type": "string"
                                }
                            }
                        },
                        {
                            "key": "access_tags",
                            "custom_config": {
                                "type": "array",
                                "grouping": "deployment",
                                "original_grouping": "deployment",
                                "config_constraints": {
                                    "type": "string"
                                }
                            }
                        },
                        {
                            "key": "ocp_entitlement"
                        },
                        {
                            "key": "cluster_ready_when",
                            "options": [
                                {
                                    "displayname": "Normal",
                                    "value": "Normal"
                                },
                                {
                                    "displayname": "IngressReady",
                                    "value": "IngressReady"
                                },
                                {
                                    "displayname": "OneWorkerNodeReady",
                                    "value": "OneWorkerNodeReady"
                                },
                                {
                                    "displayname": "MasterNodeReady",
                                    "value": "MasterNodeReady"
                                }
                            ]
                        },
                        {
                            "key": "addons"
                        },
                        {
                            "key": "address_prefix"
                        },
                        {
                            "key": "cluster_name"
                        },
                        {
                            "key": "region"
                        },
                        {
                            "key": "vpc_resource_tags"
                        },
                        {
                            "key": "zone"
                        },
                        {
                            "key": "vpc_file_default_storage_class"
                        },
                        {
                            "key": "infra_node_selectors"
                        },
                        {
                            "key": "workloads_node_selectors"
                        },
                        {
                            "key": "cluster_config_endpoint_type",
                            "options": [
                                {
                                    "displayname": "Default",
                                    "value": "default"
                                },
                                {
                                    "displayname": "Private",
                                    "value": "private"
                                },
                                {
                                    "displayname": "VPE",
                                    "value": "vpe"
                                },
                                {
                                    "displayname": "Link",
                                    "value": "link"
                                }
                            ]
                        },
                        {
                            "key": "wait_till",
                            "options": [
                                {
                                    "displayname": "Master Node Ready",
                                    "value": "MasterNodeReady"
                                },
                                {
                                    "displayname": "One Worker Node Ready",
                                    "value": "OneWorkerNodeReady"
                                },
                                {
                                    "displayname": "Ingress Ready",
                                    "value": "IngressReady"
                                },
                                {
                                    "displayname": "Normal",
                                    "value": "Normal"
                                }
                            ]
                        },
                        {
                            "key": "wait_till_timeout"
                        }
                    ],
                    "dependency_version_2": true
                }
            ]
        }
    ]
}
